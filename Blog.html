<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Blog</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        h1 {
            color: #2c3e50;
            border-bottom: 2px solid #3498db;
            padding-bottom: 10px;
        }
        .post-list {
            list-style: none;
            padding: 0;
        }
        .post-item {
            margin-bottom: 25px;
            padding: 15px;
            border-left: 4px solid #3498db;
            background-color: #f8f9fa;
            transition: all 0.3s ease;
        }
        .post-item:hover {
            background-color: #e9f7fe;
            transform: translateX(5px);
        }
        .post-title {
            font-size: 1.4em;
            margin: 0 0 5px 0;
            color: #2c3e50;
        }
        .post-date {
            color: #7f8c8d;
            font-size: 0.9em;
            margin-bottom: 10px;
        }
        .no-posts {
            color: #7f8c8d;
            font-style: italic;
        }
    </style>
</head>
<body>
    <h1>Blog Posts</h1>
    <ul id="postList" class="post-list">
        <li class="no-posts">Loading posts...</li>
    </ul>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Fetch the list of markdown files from the docs folder
            fetchMarkdownFiles();
        });

        function fetchMarkdownFiles() {
            // In a real implementation, you would need server-side code to list files
            // This is a simulation that assumes you know the files in advance
            
            // Simulated list of markdown files (in a real scenario, this would come from a server API)
            const simulatedFiles = [
                { name: 'getting-started.md', lastModified: '2023-05-15' },
                { name: 'advanced-tips.md', lastModified: '2023-06-22' },
                { name: 'project-update.md', lastModified: '2023-07-10' }
            ];

            displayPosts(simulatedFiles);
            
            // In a real implementation, you might use something like:
            // fetch('/list-markdown-files') // This endpoint would need to be created server-side
            //     .then(response => response.json())
            //     .then(files => displayPosts(files))
            //     .catch(error => {
            //         console.error('Error fetching files:', error);
            //         document.getElementById('postList').innerHTML = 
            //             '<li class="no-posts">Unable to load posts at this time.</li>';
            //     });
        }

        function displayPosts(files) {
            const postList = document.getElementById('postList');
            
            if (!files || files.length === 0) {
                postList.innerHTML = '<li class="no-posts">No blog posts found.</li>';
                return;
            }

            postList.innerHTML = '';
            
            files.forEach(file => {
                // Extract title from filename (remove .md and replace hyphens with spaces)
                let title = file.name.replace('.md', '').replace(/-/g, ' ');
                // Capitalize first letter of each word
                title = title.split(' ').map(word => 
                    word.charAt(0).toUpperCase() + word.slice(1)
                ).join(' ');
                
                const listItem = document.createElement('li');
                listItem.className = 'post-item';
                
                const titleElement = document.createElement('h2');
                titleElement.className = 'post-title';
                titleElement.textContent = title;
                
                const dateElement = document.createElement('div');
                dateElement.className = 'post-date';
                dateElement.textContent = `Last updated: ${formatDate(file.lastModified)}`;
                
                // Create a link to view the markdown file
                const link = document.createElement('a');
                link.href = `docs/${file.name}`;
                link.appendChild(titleElement);
                link.appendChild(dateElement);
                
                listItem.appendChild(link);
                postList.appendChild(listItem);
            });
        }

        function formatDate(dateString) {
            const options = { year: 'numeric', month: 'long', day: 'numeric' };
            return new Date(dateString).toLocaleDateString(undefined, options);
        }
    </script>
</body>
</html>
